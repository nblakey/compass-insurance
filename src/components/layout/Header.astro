---
import MenuIcon from '@mui/icons-material/Menu';
import PhoneIcon from '@mui/icons-material/Phone';
import logoImage from '../../images/compassLogo.png';
import { Image } from 'astro:assets';
import Menu from '../../components/Menu.tsx';
---
<header class="relative z-50">
    <div class="flex items-center bg-white shadow-md w-full h-12 md:h-[60px] px-5">
        <!-- Mobile -->
        <div class="flex w-full items-center justify-between md:hidden">
            <MenuIcon id="hamburger" className='!h-10 !w-10 cursor-pointer' />
            <a href="/"><Image alt="Compass Insurance logo" src={logoImage} class="h-[30px] object-contain" height="60" /></a>
            <a href="tel:317-398-9321"><PhoneIcon className='!h-9 !w-9 cursor-pointer' /></a>
        </div>
        <!-- Desktop -->
        <div class="hidden md:flex w-full max-w-[1200px] mx-auto items-center justify-between font-bold">
            <a href="/"><Image alt="Compass Insurance logo" src={logoImage} class="h-10 w-[171px] object-contain" height="40" /></a>
            <div class="flex gap-5">
                <a href="/about">About Us</a>
                <div id="products" class="hover:cursor-pointer" tabindex="0">Products & Services</div>
                <a href="/faq">FAQs</a>
                <a href="/contact">Contact</a>
            </div>
            <a href="tel:3173989321">317-398-9321</a>
        </div>
    </div>
</header>
<Menu client:load />
<script>
    const openMenu = () => {
        window.postMessage({
            closeMenu: false,
            openMenu: true
        }, window.origin);
        document.body.style.overflow = 'hidden';
    };

    const closeMenu = () => {
        document.body.style.overflow = 'visible';
    }

    window.addEventListener("message", (e) => {
        if (e.data.closeMenu) closeMenu();
    })

    document.getElementById('hamburger')?.addEventListener('click', openMenu);
    document.getElementById('products')?.addEventListener('click', openMenu);
</script>